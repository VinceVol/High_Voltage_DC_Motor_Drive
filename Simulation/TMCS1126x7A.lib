* TMCS1126x7A
*****************************************************************************
* (C) Copyright 2025 Texas Instruments Incorporated. All rights reserved.   
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
* Released by: Texas Instruments Inc.
* Part: TMCS1126x7A
* Date: 2025-08-28
* Model Type:  All-in-One
* Simulator: Cadence PSpice
* Simulator Version: 23.1
* Datasheet: 
*
* Model Version: 1.0
*
*****************************************************************************	
* MACRO-MODEL SIMULATED PARAMETERS:
*****************************************************************************
* SENSITIVITY AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS
* ZOUT VS. FREQUENCY
* CMRR, PSRR, AND PSRR VS. FREQUENCY
* INPUT CURRENT NOISE DENSITY
* CMTI
*****************************************************************************
* SLEW RATE
* IOUT VS. VOUT (CLAW CURVE) and Short Circuit Output Currents
* QUIESCENT CURRENT (Iq) AND SOURCING CURRENT INTO VS PIN
* 700 uOHM TYPICAL LEADRAME WITH DRIFT AND ERROR
* SENSITIVITY ERROR AND DRIFT
* OFFSET ERROR AND DRIFT
* REFERENCE VOLTAGE ERROR AND DRIFT
* RIO
******************************************************
* COMPARATOR PROPAGATION DELAY AND HYSTERESIS
* VOC INPUT RESISTANCE
******************************************************
.SUBCKT TMCS1126x7A VREF IN+ IN- OC VS VOC VOUT GND
******************************************************
* SET MODE = 0 for 2.5V TYPICAL REFERENCE VOLTAGE (TMCS1126A7A)
* SET MODE = 1 for 1.65V TYPICAL REFERENCE VOLTAGE (TMCS1126B7A)
******************************************************
******************************************************
+ params:
+ MODE = 0
.MODEL R_NOISELESS RES (T_ABS=-273.15)
C_C10         GND N3621911  1E-15   
C_C11         N3622377 GND  1E-15   
C_C12         GND N3621987  1E-15   
C_C13         N3622437 GND  1E-15   
C_C14         GND N3621805  1E-15   
C_C15         N3622291 GND  1E-15   
C_C16         GND N3621773  1E-15   
C_C33         VS_B GND  1E-15   
C_C36         GND GROSS_CLAMP  20.5N   
C_C37         GND N3624025  531P   
C_C38         N3620567 GND  0.9N   
C_C39         N3620157 GND  0.1N   
C_C40         VS_B2 GND  1E-15   
C_C44         GND N3625983  400P   
C_C45         VICM GND  100P   
C_C46         PSR_REF GND  1E-12   
C_C47         GND N3626955  10P   
C_C48         GND N3627537  10P   
C_C8         GND N3621369  1E-15   
C_C9         GND N3622619  1E-15   
C_CPROP1         GND SIN1  10N   
C_CPROP2         GND SIN2  10N   
C_C_VIMON         GND VIMON  1E-9   
C_C_VIMON1         GND VIMON2  50P   
C_C_VOUT_S         GND VOUT_S  0.3E-9   
E_E3         N3625019 GND VOUT GND 1
E_E5         N3626207 GND N3626201 GND 1
E_E7         N3626201 N3626195 PSR_REF GND 1
E_E9         N3624035 VREF N3624025 GND 1
E_E_ES_SET         N3624019 GND N3623995 GND 1.0165
G_G36         N3620685 GND VS GND -1
G_G61         N3622471 GND GND IN- -1
G_G62         VICM GND IN+ N3622471 -0.5
G_G69         VGROSS GND GROSS_CLAMP GND -1E-3
G_G70         CLAW_CLAMP GND N3625655 GND -1E-3
G_G72         CL_CLAMP GND CLAW_CLAMP GND -1E-3
G_G73         ACL GND CL_CLAMP GND -1
G_G8         VS_CLP GND N3621369 GND -1E-3
G_G80         CMR GND N3620567 GND 1
G_G81         CMR GND N3620157 GND 1
G_G82         CMP_IN GND N3625983 GND 1
G_G83         CMPTH GND VOC GND -1
G_G85         CMP_IN_NEG GND N3625983 GND -1
G_G86         GND AFE_OUT N3623995 GND 1
G_G9         GND_CLP GND N3622619 GND -1E-3
G_G_S_SET         N3623995 GND N3623977 GND 1.2E-7
I_I1         VS GND DC 14M  
R_R107         N3620685 GND R_NOISELESS 1
R_R110         N3620685 VS_B R_NOISELESS 1E-3
R_R147         N3622471 GND R_NOISELESS 1
R_R155         GROSS_CLAMP GND R_NOISELESS 1E6
R_R156         VGROSS GND R_NOISELESS 1E3
R_R157         GND CLAW_CLAMP R_NOISELESS 1E3
R_R160         VICM GND R_NOISELESS 1
R_R161         GND CL_CLAMP R_NOISELESS 1E3
R_R162         GND ACL R_NOISELESS 1
R_R163         VS GND  1E9 TC=0,0 
R_R164         VREF N3626207 R_NOISELESS 250M
R_R165         CLAW_CLAMP GND R_NOISELESS 1E3
R_R166         GROSS_CLAMP GND R_NOISELESS 1E3
R_R167         CL_CLAMP GND R_NOISELESS 1E3
R_R168         N3624053 GND R_NOISELESS 1E6
R_R169         N3624035 N3624289  40K TC=0,0 
R_R170         ACL N3624289  100K TC=0,0 
R_R171         N3624019 N3624025  50 TC=0,0 
R_R172         VREF GND  1E9 TC=0,0 
R_R173         N3619803 N3620567  1 TC=0,0 
R_R174         N3620151 N3620157  1 TC=0,0 
R_R175         VS_B VS_B2 R_NOISELESS 1E-3
R_R176         CMPTH CMP_OUT  1E6 TC=0,0 
R_R177         CMP_IN GND R_NOISELESS 1
R_R178         CMP_OUT SIN1  20 TC=0,0 
R_R181         CMP_IN CMP_OUT  10E6 TC=0,0 
R_R184         CMPTH GND R_NOISELESS 1
R_R186         CMPTH N3627233  1E6 TC=0,0 
R_R187         N3627233 SIN2  20 TC=0,0 
R_R189         CMP_IN_NEG N3627233  10E6 TC=0,0 
R_R191         CMP_IN_NEG GND R_NOISELESS 1
R_R192         AFE_OUT N3625983  100 TC=0,0 
R_R193         PSR_REF N3620187 R_NOISELESS 1E-3
R_R194         N3626955 SIN1  1 TC=0,0 
R_R195         N3627537 SIN2  1 TC=0,0 
R_R196         N3623977 GND R_NOISELESS 1
R_R197         AFE_OUT GND R_NOISELESS 1
R_R29         N3621347 VS_B R_NOISELESS 1E3
R_R30         N3621369 N3621347 R_NOISELESS 1
R_R31         VS_CLP GND R_NOISELESS 1E3
R_R32         N3622603 GND R_NOISELESS 1E3
R_R33         N3622619 N3622603 R_NOISELESS 1
R_R34         GND_CLP GND R_NOISELESS 1E3
R_R35         GND VS_CLP R_NOISELESS 1E9
R_R36         N3621883 GND R_NOISELESS 1
R_R37         N3621911 N3621883 R_NOISELESS 1E-3
R_R38         N3622377 N3622363 R_NOISELESS 1E-3
R_R39         GND N3622363 R_NOISELESS 1
R_R40         GND GND_CLP R_NOISELESS 1E9
R_R41         GND N3621105 R_NOISELESS 1E9
R_R42         N3621959 GND R_NOISELESS 1
R_R43         N3621987 N3621959 R_NOISELESS 1E-3
R_R44         N3622437 N3622423 R_NOISELESS 1E-3
R_R45         GND N3622423 R_NOISELESS 1
R_R46         GND N3623129 R_NOISELESS 1E9
R_R49         GND N3621003 R_NOISELESS 1E9
R_R50         N3621777 GND R_NOISELESS 1
R_R51         N3621805 N3621777 R_NOISELESS 1E-3
R_R52         N3622291 N3622277 R_NOISELESS 1E-3
R_R53         GND N3622277 R_NOISELESS 1
R_R54         GND N3622979 R_NOISELESS 1E9
R_R55         N3621773 VGROSS R_NOISELESS 1E-3
R_R81         GND N3624991 R_NOISELESS 1E9
R_R83         GND N3625019 R_NOISELESS 1E9
R_RCMPLEAK1         GND OC  100E6 TC=0,0 
R_RCMPLEAK2         GND OC  100E6 TC=0,0 
R_RIO         IN+ GND  5E12 TC=0,0 
R_RIO1         IN+ VS  5E12 TC=0,0 
R_RIO2         IN+ VOUT  5E12 TC=0,0 
R_RIO3         IN+ VREF  5E12 TC=0,0 
R_RIO4         IN+ OC  5E12 TC=0,0 
R_RIO5         IN+ VOC  5E12 TC=0,0 
R_ROC         GND VOC  120K TC=0,0 
R_R_VIMON         VIMON N3624991 R_NOISELESS 100
R_R_VIMON1         VIMON2 VIMON R_NOISELESS 100
R_R_VOUT_S         VOUT_S N3625019 R_NOISELESS 100
V_VREF_DRIFT_LIFETIME         N3626195 N3626179 0VDC
V_V_GRN         N3622979 GND -16.5
V_V_GRP         N3621003 GND 20.1
V_V_ISCN         N3623129 GND -35
V_V_ISCP         N3621105 GND 47
V_V_MODE         MODE_N GND 0
X_CLAWN         GND VIMON2 GND N3622603 CLAWN_TMCS1126x7A 
X_CLAWP         VIMON2 GND N3621347 VS_B CLAWP_TMCS1126x7A 
X_CLAW_AMP         VS_CLP GND_CLP VOUT_S GND N3621883 N3622363 CLAMP_AMP_LO_TMCS1126x7A 
X_CL_AMP         N3621105 N3623129 VIMON GND N3621959 N3622423 CLAMP_AMP_LO_TMCS1126x7A 
X_F2    IN- N3624135 CMR GND 08_COMPLETE_X7A_F2_TMCS1126x7A 
X_F3    CMR GND N3623977 GND 08_COMPLETE_X7A_F3_TMCS1126x7A 
X_GR_AMP         N3621003 N3622979 N3621773 GND N3621777 N3622277 CLAMP_AMP_HI_TMCS1126x7A 
X_H3    VOUT N3625467 N3624991 GND 08_COMPLETE_X7A_H3_TMCS1126x7A 
X_PZ1_31         N3624115 GND N3624121 GND GND PZ1_TMCS1126x7A PARAMS:  GAIN=1 FP=4.5K
+  FZ=15K R=1E5
X_PZ1_33         N3624121 GND N3624127 GND GND PZ1_TMCS1126x7A PARAMS:  GAIN=1 FP=4.5K
+  FZ=10E6 R=1E6
X_U10         N3620133 GND N3620139 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=50K FZ=2K
+  R=1E6
X_U13         VGROSS GND N3625655 GND P1_TMCS1126x7A PARAMS:  GAIN=1 FP=50E6 R=1E6
X_U27         N3621805 N3622291 GROSS_CLAMP GND GR_SRC_TMCS1126x7A PARAMS: GAIN=1
+  IPOS=9.84E-1 INEG=-9.84E-1
X_U28         IN+ N3624135 GAIN_RES_DRIFT_TMCS1126x7A PARAMS: G_RES=700E-6
+  DRIFT_RES_ROOM=220E-6 RES_DRIFTP=10E-3 POL=1
X_U29         GND N3623995 GAIN_RES_DRIFT_TMCS1126x7A PARAMS: G_RES=100E3
+  DRIFT_RES_ROOM=50000 RES_DRIFTP=99.4E-6 POL=1
X_U3         MODE_N GND N3626179 GND VBIAS_SELECT_TMCS1126x7A
X_U31         N3621911 N3622377 CLAW_CLAMP GND CLAW_SRC_TMCS1126x7A PARAMS: GAIN=1
+  IPOS=4.02E-2 INEG=-3.3E-2
X_U32         N3621987 N3622437 CL_CLAMP GND CL_SRC_TMCS1126x7A PARAMS: GAIN=1 IPOS=8.04E-2
+  INEG=-6.6E-2
X_U33         GND N3626179 GAIN_RES_DRIFT_TMCS1126x7A PARAMS: G_RES=10E3 DRIFT_RES_ROOM=100
+  RES_DRIFTP=201E-5 POL=1
X_U34         N3624053 GND GND GROSS_CLAMP AOL_1_TMCS1126x7A PARAMS: GAIN=1E-2 IPOS=4.92E-1
+  INEG=-4.92E-1
X_U35         N3624107 GND N3624115 GND GND ZP1_TMCS1126x7A PARAMS: GAIN=1 FZ=1.2K FP=4.5K
+  R=1E4
X_U36         VREF N3624289 GND N3624053 AOL_1_TMCS1126x7A PARAMS: GAIN=1E-4 IPOS=0.5
+  INEG=-0.5
X_U37         N3625467 N3625135 VOS_DRIFT_TMCS1126x7A PARAMS: DC=0.8M POL=1 DRIFT=29.9U
X_U38         GND CMR FEMT_TMCS1126x7A 
X_U39         N3619785 GND N3619797 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=100E8 FZ=5E6
+  R=1E6
X_U41         N3620139 GND N3620145 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=100E7
+  FZ=280K R=1E6
X_U42         N3620145 GND N3620151 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=100E7
+  FZ=280K R=1E6
X_U43         VS_B2 GND N3620187 GND DC_REJ_SUB_TMCS1126x7A PARAMS:  DC_REJ=77 R=1
X_U45         N3619797 GND N3619803 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=100E8 FZ=5E6
+  R=1E7
X_U46         SIN1 GND OC GND DEV_A1_SCH_S1_TMCS1126x7A 
X_U48         CMP_OUT CMP_IN CMPTH VS_B GND COMPARATOR_ALERT_TMCS1126x7A 
X_U50         SIN2 GND OC GND DEV_A1_SCH_S1_TMCS1126x7A 
X_U51         N3627233 CMP_IN_NEG CMPTH VS_B GND COMPARATOR_ALERT_TMCS1126x7A 
X_U52         N3626955 GND SIN1 GND DEV_A1_SCH_S3_TMCS1126x7A
X_U53         N3627537 GND SIN2 GND DEV_A1_SCH_S3_TMCS1126x7A
X_U54         MODE_N GND N3625135 N3625153 VBIAS_VOS_CORRECT_PAR_TMCS1126x7A PARAMS:
+  VOS_CORR0=0.03102 VOS_CORR1=0.019193 VOS_CORR2=0.000831
X_U55         VIMON GND VS GND IQ_SRC_TMCS1126x7A 
X_U7         VICM GND N3620119 GND DC_REJ_SUB_TMCS1126x7A PARAMS:  DC_REJ=106 R=1
X_U8         N3620119 GND N3619785 GND GND ZP1_TMCS1126x7A PARAMS:  GAIN=1 FP=100E7 FZ=200
+  R=1E6
X_U9         VS_B GND N3620133 GND DC_REJ_SUB_TMCS1126x7A PARAMS:  DC_REJ=32 R=1
X_ZOUT_DC_SUB5         ACL N3625421 N3624107 N3625153 GND ZOUT_DC_SUB_TMCS1126x7A PARAMS: 
+  ZOUT_DC=0.3 ZOUT_MAX=300
X_ZP1LIM5         N3624127 GND N3625421 GND GND ZP1LIM_TMCS1126x7A PARAMS:  GAIN=1 FZ=11E6
+  FP=20E6 R=1E7 IPOS=2.82E3 INEG=-2.1E3
.ENDS  TMCS1126x7A
*
.SUBCKT 08_COMPLETE_X7A_F2_TMCS1126x7A 1 2 3 4  
F_F2         3 4 VF_F2 -1
VF_F2         1 2 0V
.ENDS  08_COMPLETE_X7A_F2_TMCS1126x7A
*
.SUBCKT 08_COMPLETE_X7A_F3_TMCS1126x7A 1 2 3 4  
F_F3         3 4 VF_F3 1
VF_F3         1 2 0V
.ENDS  08_COMPLETE_X7A_F3_TMCS1126x7A
*
.SUBCKT 08_COMPLETE_X7A_H3_TMCS1126x7A 1 2 3 4  
H_H3         3 4 VH_H3 -1E3
VH_H3         1 2 0V
.ENDS  08_COMPLETE_X7A_H3_TMCS1126x7A
*
.SUBCKT AOL_1_TMCS1126x7A VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1E-4
+ IPOS = .5
+ INEG = -.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1_TMCS1126x7A
*
.SUBCKT CLAMP_AMP_HI_TMCS1126x7A VC+ VC- VIN COM VO+ VO-
.PARAM G=10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_TMCS1126x7A
*
.SUBCKT CLAMP_AMP_LO_TMCS1126x7A VC+ VC- VIN COM VO+ VO-
.PARAM G=1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_TMCS1126x7A
*
.SUBCKT CLAWN_TMCS1126x7A VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =
+(0,3E-6)
+(0.001, 9E-6)
+(2, 0.1E-3)
+(5, 0.2E-3)
+(10, 0.4E-3)
+(20, 0.9E-3)
+(25, 1.3E-3)
+(30, 1.6E-3)
+(32.5, 2E-3)
+(35, 3E-3)
.ENDS  CLAWN_TMCS1126x7A
*
.SUBCKT CLAWP_TMCS1126x7A VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =
+(0, 5E-6)
+(0.250, 30E-6)
+(0.33, 47E-6)
+(10, 0.25E-3)
+(20, 0.8E-3)
+(25, 1E-3)
+(30, 1.1E-3)
+(35, 1.5E-3)
+(40, 1.8E-3)
+(42, 2E-3)
+(45, 2.25E-3)
+(49, 2.8E-3)
.ENDS  CLAWP_TMCS1126x7A
*
.SUBCKT CLAW_SRC_TMCS1126x7A VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 7E-2
+ INEG = -8.8E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_TMCS1126x7A
*
.SUBCKT CL_SRC_TMCS1126x7A VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 1.4E-1
+ INEG = -1.76E-1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_TMCS1126x7A
*
.SUBCKT COMPARATOR_ALERT_TMCS1126x7A OUT INP INN VCC VEE 
EMID NMID 0 VALUE = {(V(VCC) + V(VEE))/2}
EOUT OUT VEE VALUE = {5*0.5*(2 + SGN(V(INP,INN)) - ABS(SGN(V(INP,INN))))}
.ENDS  COMPARATOR_ALERT_TMCS1126x7A
*
.SUBCKT DC_REJ_SUB_TMCS1126x7A VC+ VC- OUT+ OUT-
+ PARAMS:
+ DC_REJ = 120
+ R = 1
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {PWR(10, (-(DC_REJ)/20))}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS  {R}
.ENDS  DC_REJ_SUB_TMCS1126x7A
*
.SUBCKT DEV_A1_SCH_S1_TMCS1126x7A 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH ROFF=11E6 RON=66 VOFF=1.8V VON=2.0V
.ENDS  DEV_A1_SCH_S1_TMCS1126x7A
*
.SUBCKT DEV_A1_SCH_S3_TMCS1126x7A 1 2 3 4  
S_S3         3 4 1 2 _S3
RS_S3         1 2 1G
.MODEL         _S3 VSWITCH ROFF=10 RON=1E4 VOFF=2.1V VON=1.9V
.ENDS  DEV_A1_SCH_S3_TMCS1126x7A
*
.SUBCKT FEMT_TMCS1126x7A 1 2
.PARAM RNVF={1.184*PWR(150E9,2)}
E1 3 0 5 0 10
R1 5 0 {RNVF}
R2 5 0 {RNVF}
G1 1 2 3 0 1E-6
.ENDS  FEMT_TMCS1126x7A
*
.SUBCKT GAIN_RES_DRIFT_TMCS1126x7A 1 2
+ PARAMS:
+ G_RES = 20E3
+ DRIFT_RES_ROOM = 100
+ RES_DRIFTP = 1E-6
+ POL = 1
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.MODEL R_DRIFT RES (TC1={RES_DRIFTP})
R1 1 3 R_NOISELESS {G_RES-DRIFT_RES_ROOM}
R2 2 3 R_DRIFT {DRIFT_RES_ROOM}
.ENDS  GAIN_RES_DRIFT_TMCS1126x7A
*
.SUBCKT GR_SRC_TMCS1126x7A VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 6E-2
+ INEG = -6E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_TMCS1126x7A
*
.SUBCKT IQ_SRC_TMCS1126x7A VC+ VC- IOUT+ IOUT-
.PARAM GAIN = 1E-3
G1 IOUT+ IOUT- VALUE={IF( (V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-) )}
.ENDS  IQ_SRC_TMCS1126x7A
*
.SUBCKT P1_TMCS1126x7A VC+ VC- OUT+ OUT-
+ PARAMS: 
+ GAIN = 1
+ FP = 1
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FP * R)}
.PARAM GG1 = {GAIN / R}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS {R}
C1 OUT+ OUT- {CC1}
.ENDS  P1_TMCS1126x7A
*
.SUBCKT PZ1_TMCS1126x7A VC+ VC- OUT+ OUT- 1
+ PARAMS: 
+ GAIN = 1
+ FP = 1E3
+ FZ = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {(1/(6.2831853 * FP * CC1)) - R}
C1 2 1 {CC1}
G1 OUT- OUT+ 3 1 {GAIN}
R1 VC+ 3 R_NOISELESS {RR1}
R2 3 2 R_NOISELESS {R}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  PZ1_TMCS1126x7A
*
.SUBCKT VBIAS_SELECT_TMCS1126x7A MODE_IN VC- VBIAS VBIAS-
G1 VBIAS VBIAS- TABLE {(V(MODE_IN,VC-))} =
+(0, -0.0002496)
+(1, -0.0001647)
+(2, -0.0000329)
.ENDS  VBIAS_SELECT_TMCS1126x7A
*
.SUBCKT VBIAS_VOS_CORRECT_PAR_TMCS1126x7A MODE_IN VC- VBIAS VBIAS-
+ PARAMS:
+ VOS_CORR0 = 0.03102
+ VOS_CORR1 = 0.019193
+ VOS_CORR2 = 0.000831

E1 VBIAS VBIAS- VALUE={ IF( V(MODE_IN,VC-)<0.1,VOS_CORR0,IF(V(MODE_IN,VC-)>1.9,VOS_CORR2,VOS_CORR1) ) }

.ENDS  VBIAS_VOS_CORRECT_PAR_TMCS1126x7A
*
.SUBCKT VOS_DRIFT_TMCS1126x7A VOS+ VOS-
+ PARAMS:
+ DC = 20E-6
+ DRIFT = 1E-6
+ POL = 1
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_TMCS1126x7A
*
.SUBCKT ZOUT_DC_SUB_TMCS1126x7A INA INB OUTA OUTB COM
+ PARAMS:
+ ZOUT_DC = 1
+ ZOUT_MAX = 1E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM BETA = 1
.PARAM RDUMMY = {10*ZOUT_MAX}
.PARAM RX = {100*ZOUT_MAX}
.PARAM G1 = {RX/(ZOUT_DC*BETA)}
G1 COM OUTA INA OUTB {G1}
R1 OUTA COM R_NOISELESS 1
RDUMMY OUTB COM R_NOISELESS {RDUMMY}
RX INB OUTB R_NOISELESS {RX}
.ENDS  ZOUT_DC_SUB_TMCS1126x7A
*
.SUBCKT ZP1_TMCS1126x7A VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ 2 1 {GG1}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1_TMCS1126x7A
*
.SUBCKT ZP1LIM_TMCS1126x7A VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
+ IPOS = 1.72E3
+ INEG = -2.9E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ VALUE={LIMIT(GG1 * V(2, 1), INEG, IPOS)}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1LIM_TMCS1126x7A
*