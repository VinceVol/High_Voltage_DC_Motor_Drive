* C:\users\vvolpone\Documents\Projects\CNC Mill\Linux_Controller\DC_SPEED_CONTROLLER_V2.asc
* Generated by LTspice 26.0.1 for Windows.
L1 Vtorq N023 0.01 Rser=0
RB1 N023 N025 0.002
VSENSE2 N025 0 0
H_TORQ1 Vtorq 0 VSENSE1 0.29
FPOS1 0 Vangpos VSENSE2 1
CPOS1 Vangpos 0 1
RPOS1 Vangpos 0 1Meg
V4 v_pwm 0 PULSE(0 3.3 0 1us 1us 25us 50us)
V5 vdi 0 PULSE(0 3.3 0 20us 20us 500ms 1000ms)
LA2 1 N013 0.5m Rser=0
RA2 N013 N014 0.6
VSENSE1 N015 2 0
H_EMF2 N014 N015 VSENSE2 0.29
R1 N005 N004 10
R5 N021 N020 10
R6 P001 N022 100
R7 N006 N007 10
R9 N018 N019 10
R10 P002 vdi 100
V8 v_log 0 5
Q1 v_pwm N012 N008 0 NPN
R11 N012 vdi 10
Q2 N010 N011 0 0 NPN
R8 N011 vdi 100
Q3 N022 N024 0 0 NPN
R2 vdi N024 10
V2 N003 2 15
V3 N017 0 15
V7 N016 0 15
R3 N009 N008 100
R12 v_pwm N010 100
R13 v_log N022 100
X§U1 1 N021 0 irfp260n ;§pnba D)G)S
X§U6 N002 N005 1 irfp260n ;§pnba D)G)S
X§U7 N002 N006 2 irfp260n ;§pnba D)G)S
X§U8 2 N018 0 irfp260n ;§pnba D)G)S
V6 N002 0 120
X§U9 NC_01 N009 0 NC_02 1 N004 N004 N001 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U2 NC_03 P001 0 NC_04 0 N020 N020 N016 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U3 NC_05 N010 0 NC_06 2 N007 N007 N003 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U4 NC_07 P002 0 NC_08 0 N019 N019 N017 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
C1 1 N001 0.1µ
X§U5 v_log 0 N001 1 SRS0515 ;§pnba Vi+)Vi-)Vo+)Vo-
.model NPN NPN
.model PNP PNP
.lib C:\users\vvolpone\AppData\Local\LTspice\lib\cmp\standard.bjt
* OptoIso Circuit
.tran 1000ms
* F - current controlled current source\nI(VENSE2) - angular velocity modeled as current  (rad/sec)\nVoltage across CPOS - angular position modeled as voltage (rad)
* Direction
* Speed (PWM)
* V_Log_Lev
.include FOD3182.lib
* Library below included based on ModelFile attribute of instance X§U9, X§U2, X§U3, X§U4 (C:\users\vvolpone\Documents\Projects\CNC Mill\Linux_Controller\FOD3182.asy)
.lib AvagoHCPL3120_MOD.txt
* Library below included based on ModelFile attribute of instance X§U1, X§U6, X§U7, X§U8 (C:\users\vvolpone\Documents\Projects\CNC Mill\Linux_Controller\irfp260n.asy)
.lib irfp260n.spi
* Library below included based on ModelFile attribute of instance X§U5 (C:\users\vvolpone\Documents\Projects\CNC Mill\Linux_Controller\SRS0515.asy)
.lib SRS_0515_2.spi
.backanno
.end
