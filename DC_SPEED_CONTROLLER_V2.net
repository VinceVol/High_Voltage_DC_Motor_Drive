* C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\DC_SPEED_CONTROLLER_V2.asc
* Generated by LTspice 26.0.1 for Windows.
L1 Vtorq N023 0.01 Rser=0
RB1 N023 N025 0.002
VSENSE2 N025 0 0
H_TORQ1 Vtorq 0 VSENSE1 0.29
FPOS1 0 Vangpos VSENSE2 1
CPOS1 Vangpos 0 1
RPOS1 Vangpos 0 1Meg
V4 v_pwm 0 PULSE(0 3.3 0 1us 1us 25us 50us)
V5 vdi 0 PULSE(0 3.3 0 20us 20us 500ms 1000ms)
LA2 1 N015 0.5m Rser=0
RA2 N015 N016 0.6
VSENSE1 N017 2 0
H_EMF2 N016 N017 VSENSE2 0.29
R1 N007 N006 10
R5 N021 N020 10
R7 N008 N009 10
R9 N018 N019 10
R10 P001 vdi 100
V8 v_log 0 5
Q1 v_pwm N014 N010 0 2N2222
R11 N014 vdi 250
Q2 N012 N013 0 0 2N2222
R8 N013 vdi 500
Q3 N022 N024 0 0 2N2222
R2 vdi N024 1K
R3 N011 N010 100
R12 v_pwm N012 500
R13 v_log N022 1K
X§U1 1 N021 0 irfp260n ;§pnba D)G)S
X§U6 in- N007 1 irfp260n ;§pnba D)G)S
X§U7 in- N008 2 irfp260n ;§pnba D)G)S
X§U8 2 N018 0 irfp260n ;§pnba D)G)S
X§U9 NC_01 N011 0 NC_02 1 N006 N006 N005 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U2 NC_03 N022 0 NC_04 0 N020 N020 vcl FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U3 NC_05 N012 0 NC_06 2 N009 N009 N004 FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
X§U4 NC_07 P001 0 NC_08 0 N019 N019 vcl FOD3182 ;§pnba 1)Vd)g)4)Ms)Mg1)Mg2)Vc
C1 1 N005 0.1µ
X§U5 v_log 0 N005 1 SRS0515 ;§pnba Vi+)Vi-)Vo+)Vo-
C2 2 N004 0.1µ
X§U10 v_log 0 N004 2 SRS0515 ;§pnba Vi+)Vi-)Vo+)Vo-
C3 0 vcl 0.1µ
X§U11 v_log 0 vcl 0 SRS0515 ;§pnba Vi+)Vi-)Vo+)Vo-
V1 N001 N002 SINE(0 170 60) Rser=0.1
X§U12 N003 0 N002 N001 KBPC5010 ;§pnba +)-)AC1)AC2
V2 in+ 0 SINE(85 85 120)
X§U13 v_log 0 in+ in- 0 v_log 0 N027 TMCS1126x1A MODE=0 ;§pnba VS)GND)IN+)IN-)OC)VOC)VREF)VOUT
R4 N027 N026 10k
C4 N026 0 10µ
.model NPN NPN
.model PNP PNP
.lib C:\Users\Vincent.Volpone\AppData\Local\LTspice\lib\cmp\standard.bjt
* OptoIso Circuit
.tran 1000ms
* F - current controlled current source\nI(VENSE2) - angular velocity modeled as current  (rad/sec)\nVoltage across CPOS - angular position modeled as voltage (rad)
* Direction
* Speed (PWM)
* V_Log_Lev
.include FOD3182.lib
* Library below included based on ModelFile attribute of instance X§U9, X§U2, X§U3, X§U4 (C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\FOD3182.asy)
.lib AvagoHCPL3120_MOD.txt
* Library below included based on ModelFile attribute of instance X§U1, X§U6, X§U7, X§U8 (C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\irfp260n.asy)
.lib irfp260n.spi
* Library below included based on ModelFile attribute of instance X§U12 (C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\KBPC5010.asy)
.lib KBPC5010.spi
* Library below included based on ModelFile attribute of instance X§U5, X§U10, X§U11 (C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\SRS0515.asy)
.lib SRS_0515_2.spi
* Library below included based on ModelFile attribute of instance X§U13 (C:\Users\Vincent.Volpone\OneDrive - Gentex Corporation\Desktop\HOME\Electronics\High_Voltage_DC_Motor_Drive\TMCS1126x1A.asy)
.lib TMCS1126x1A.lib
.backanno
.end
